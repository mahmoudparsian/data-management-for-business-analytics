# Week 5 â€” Subqueries & CTE

### Slide 1
- Teaching point 1a
- Teaching point 1b
- Teaching point 1c


### Slide 2
- Teaching point 2a
- Teaching point 2b
- Teaching point 2c


### Slide 3
- Teaching point 3a
- Teaching point 3b
- Teaching point 3c


### Slide 4
- Teaching point 4a
- Teaching point 4b
- Teaching point 4c


### Slide 5
- Teaching point 5a
- Teaching point 5b
- Teaching point 5c


### Slide 6: Common Table Expressions (WITH)
- Improve readability
- Can be referenced multiple times

```sql
WITH dept_avg AS (SELECT dept_id, AVG(salary) AS av FROM employees GROUP BY dept_id) SELECT * FROM dept_avg;
```


### Slide 7
- Teaching point 7a
- Teaching point 7b
- Teaching point 7c


### Slide 8
- Teaching point 8a
- Teaching point 8b
- Teaching point 8c


### Slide 9
- Teaching point 9a
- Teaching point 9b
- Teaching point 9c


### Slide 10
- Teaching point 10a
- Teaching point 10b
- Teaching point 10c


### Slide 11
- Teaching point 11a
- Teaching point 11b
- Teaching point 11c


### Slide 12
- Teaching point 12a
- Teaching point 12b
- Teaching point 12c


### Slide 13
- Teaching point 13a
- Teaching point 13b
- Teaching point 13c


### Slide 14
- Teaching point 14a
- Teaching point 14b
- Teaching point 14c


### Slide 15
- Teaching point 15a
- Teaching point 15b
- Teaching point 15c


### Slide 16
- Teaching point 16a
- Teaching point 16b
- Teaching point 16c


### Slide 17
- Teaching point 17a
- Teaching point 17b
- Teaching point 17c


### Slide 18
- Teaching point 18a
- Teaching point 18b
- Teaching point 18c


### Slide 19
- Teaching point 19a
- Teaching point 19b
- Teaching point 19c


### Slide 20
- Teaching point 20a
- Teaching point 20b
- Teaching point 20c

