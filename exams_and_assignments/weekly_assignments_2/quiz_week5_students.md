# Week 5 Quiz
**Schema:** books / customers / stores / transactions
**Focus:** Subqueries & WITH (CTEs)

**Q1. (MCQ)** A subquery that depends on the outer query is called:
- A) Inline query
- B) Correlated subquery
- C) Nested JOIN
- D) Temp view

**Q2. (MCQ)** `WITH` creates:
- A) Transaction
- B) Common Table Expression (CTE)
- C) Stored procedure
- D) Temp table only

**Q3. (MCQ)** Which operator tests set membership?
- A) IN
- B) HAS
- C) MATCH
- D) WITHIN

**Q4. (SQL)** Find customers whose total spending exceeds $500 (use subquery).

**Q5. (SQL)** Using a CTE, compute total sales per category and return categories over $2000.

**Q6. (SQL)** Return books that have never been sold (LEFT JOIN + IS NULL).

**Q7. (SQL)** Find the average price per store using a CTE, then list stores above the overall avg of those averages.

**Q8. (SQL)** Find the most expensive transaction per customer (CTE + window or subquery).

**Q9. (SQL)** List categories where the average price is higher than the category 'Fiction'.

**Q10. (SQL)** Find authors whose books sold more than 50 copies total.
